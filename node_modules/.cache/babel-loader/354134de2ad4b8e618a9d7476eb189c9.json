{"ast":null,"code":"import _classCallCheck from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lidiadavidson/Documents/lastfm/src/components/tracks/TopTracksList.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TrackListItem from './TrackListItem';\nimport axios from 'axios';\n\nvar TopTracksList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TopTracksList, _Component);\n\n  function TopTracksList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TopTracksList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TopTracksList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.changeTracksDateRange = function (dispatch, e) {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks\\n    &period=\".concat(e.target.value, \"&user=colwill91&limit=10&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        dispatch({\n          type: 'UPDATE_TOP_TRACKS',\n          payload: res.data.toptracks.track\n        }); //put the new results into the context state, like a reducer in redux\n      }).catch(function (err) {// request failed component\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TopTracksList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, function (value) {\n        var dispatch = value.dispatch;\n        var trackList = value.top_tracks_list;\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          onChange: _this2.changeTracksDateRange.bind(_this2, dispatch),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"7day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"7 Days\"), React.createElement(\"option\", {\n          value: \"1month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, \"month\"), React.createElement(\"option\", {\n          value: \"12month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"year\")), React.createElement(\"div\", {\n          className: \"grid-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"track-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, trackList.map(function (item) {\n          return React.createElement(TrackListItem, {\n            key: item.index,\n            track: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          });\n        })))));\n      });\n    }\n  }]);\n\n  return TopTracksList;\n}(Component);\n\nexport default TopTracksList;","map":{"version":3,"sources":["/Users/lidiadavidson/Documents/lastfm/src/components/tracks/TopTracksList.js"],"names":["React","Component","Consumer","TrackListItem","axios","TopTracksList","changeTracksDateRange","dispatch","e","get","target","value","then","res","type","payload","data","toptracks","track","catch","err","trackList","top_tracks_list","bind","map","item","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAGOC,a;;;;;;;;;;;;;;;;;;UAGLC,qB,GAAwB,UAACC,QAAD,EAAWC,CAAX,EAAiB;AACvCJ,MAAAA,KAAK,CAACK,GAAN,mFACUD,CAAC,CAACE,MAAF,CAASC,KADnB,oFAECC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACXN,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAE,mBADC;AAEPC,UAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC,SAAT,CAAmBC;AAFrB,SAAD,CAAR,CADW,CAKX;AAED,OATD,EAUCC,KAVD,CAUO,UAAAC,GAAG,EAAI,CACV;AACH,OAZD;AAaD,K;;;;;;;6BAEQ;AAAA;;AAGP,aAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,UAAAT,KAAK,EAAI;AAAA,YACEJ,QADF,GACeI,KADf,CACEJ,QADF;AAEN,YAAMc,SAAS,GAAGV,KAAK,CAACW,eAAxB;AAEA,eACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA;AAAQ,UAAA,QAAQ,EAAE,MAAI,CAAChB,qBAAL,CAA2BiB,IAA3B,CAAgC,MAAhC,EAAsChB,QAAtC,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAQ,UAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAQ,UAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGI;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,CAFA,EAQA;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGc,SAAS,CAACG,GAAV,CAAc,UAAAC,IAAI;AAAA,iBACjB,oBAAC,aAAD;AAAe,YAAA,GAAG,EAAEA,IAAI,CAACC,KAAzB;AAAgC,YAAA,KAAK,EAAED,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADiB;AAAA,SAAlB,CADH,CADF,CADF,CARA,CADF;AAqBH,OA1BL,CAFF;AA+BD;;;;EArD0BxB,S;;AAuD7B,eAAeI,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Consumer } from '../../context'\nimport TrackListItem from './TrackListItem';\nimport axios from 'axios';\n\n\n class TopTracksList extends Component {\n\n  // make own component\n  changeTracksDateRange = (dispatch, e) => {\n    axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks\n    &period=${e.target.value}&user=colwill91&limit=10&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n    .then(res => {\n      dispatch({\n        type: 'UPDATE_TOP_TRACKS',\n        payload: res.data.toptracks.track\n      });\n      //put the new results into the context state, like a reducer in redux\n\n    })\n    .catch(err => {\n        // request failed component\n    })\n  }\n\n  render() {\n\n   \n    return (\n\n      <Consumer>\n          {value => {\n              const { dispatch } = value;\n              const trackList = value.top_tracks_list;\n             \n              return (\n                <React.Fragment>\n                \n                <select onChange={this.changeTracksDateRange.bind(this, dispatch)}>\n                    <option value=\"7day\">7 Days</option>\n                    <option value=\"1month\">month</option>\n                    <option value=\"12month\">year</option>\n                </select>\n              \n                <div className=\"grid-container\">\n                  <div className=\"grid-row\">\n                    <ul className=\"track-list\">\n                      {trackList.map(item => (    \n                        <TrackListItem key={item.index} track={item}/>\n                      ))}\n                    </ul>   \n                  </div>\n                </div>\n                  \n                </React.Fragment>\n              ); \n          }}\n      </Consumer>\n    )\n  }\n}\nexport default TopTracksList;"]},"metadata":{},"sourceType":"module"}