{"ast":null,"code":"import _classCallCheck from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/lidiadavidson/Documents/lastfm/src/context.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nvar Context = React.createContext();\n\nvar reducer = function reducer(state, action) {\n  console.log('im being called');\n\n  switch (action.type) {\n    case 'UPDATE_TOP_TRACKS':\n      return _objectSpread({}, state, {\n        top_tracks_list: action.payload\n      });\n\n    case 'UPDATE_TOP_ARTISTS':\n      console.log('updating to artists');\n      return _objectSpread({}, state, {\n        top_artists_list: action.payload\n      });\n\n    case 'UPDATE_TOP_ALBUMS':\n      return _objectSpread({}, state, {\n        top_albums_list: action.payload\n      });\n\n    case 'UPDATE_ARTIST_INFO':\n      return _objectSpread({}, state, {\n        artist_info: action.payload\n      });\n\n    case 'UPDATE_ARTIST_TOP_TRACKS':\n      return _objectSpread({}, state, {\n        artist_top_tracks: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport var Provider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Provider, _Component);\n\n  function Provider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Provider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Provider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: '',\n      top_tracks_list: [],\n      top_albums_list: [],\n      top_artists_list: [],\n      recently_played_tracks: [],\n      track_of_the_month: [],\n      userInfo: [],\n      heading: 'top tracks',\n      artist_top_tracks: [],\n      artist_info: {},\n      dispatch: function dispatch(action) {\n        return _this.setState(function (state) {\n          return reducer(state, action);\n        });\n      }\n    };\n\n    _this.getUserInfo = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.getinfo&user=\".concat(_this.state.user, \"&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          userInfo: res.data.user\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getTrackOfTheMonth = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&period=1month&user=\".concat(_this.state.user, \"&limit=1&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          track_of_the_month: res.data.toptracks.track\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getTopTracks = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&period=1month&user=\".concat(_this.state.user, \"&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          top_tracks_list: res.data.toptracks.track\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getRecentlyPlayedTracks = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&period=1month&user=\".concat(_this.state.user, \"&limit=7&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          recently_played_tracks: res.data.recenttracks.track\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getTopArtists = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettopartists&period=1month&user=\".concat(_this.state.user, \"&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          top_artists_list: res.data.topartists.artist\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getTopAlbums = function () {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&period=1month&user=\".concat(_this.state.user, \"&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        _this.setState({\n          top_albums_list: res.data.topalbums.album\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Provider, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var split = document.location.href.split('/');\n      var username = split[4];\n      this.setState({\n        user: username\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getTopTracks();\n      this.getTopArtists();\n      this.getTopAlbums();\n      this.getUserInfo();\n      this.getTrackOfTheMonth();\n      this.getRecentlyPlayedTracks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Context.Provider, {\n        value: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return Provider;\n}(Component);\nexport var Consumer = Context.Consumer;","map":{"version":3,"sources":["/Users/lidiadavidson/Documents/lastfm/src/context.js"],"names":["React","Component","axios","Context","createContext","reducer","state","action","console","log","type","top_tracks_list","payload","top_artists_list","top_albums_list","artist_info","artist_top_tracks","Provider","user","recently_played_tracks","track_of_the_month","userInfo","heading","dispatch","setState","getUserInfo","get","then","res","data","catch","err","getTrackOfTheMonth","toptracks","track","getTopTracks","getRecentlyPlayedTracks","recenttracks","getTopArtists","topartists","artist","getTopAlbums","topalbums","album","split","document","location","href","username","props","children","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst Context = React.createContext();\n\nconst reducer = (state, action) => {\n  console.log('im being called')\n  switch(action.type){\n    case 'UPDATE_TOP_TRACKS': \n    return {\n      ...state,\n      top_tracks_list: action.payload\n    };\n    case 'UPDATE_TOP_ARTISTS': \n    console.log('updating to artists')\n    return {\n      ...state,\n      top_artists_list: action.payload\n    };\n    case 'UPDATE_TOP_ALBUMS': \n    return {\n      ...state,\n      top_albums_list: action.payload\n    };\n    case 'UPDATE_ARTIST_INFO': \n    return {\n      ...state,\n      artist_info: action.payload\n    };\n    case 'UPDATE_ARTIST_TOP_TRACKS': \n    return {\n      ...state,\n      artist_top_tracks: action.payload\n    };\n    default: \n      return state;\n  }\n}\n\nexport class Provider extends Component {\n\n  \n    state = {\n        user: '',\n        top_tracks_list: [],\n        top_albums_list: [],\n        top_artists_list: [],\n        recently_played_tracks: [],\n        track_of_the_month: [],\n        userInfo: [],\n        heading: 'top tracks',\n        artist_top_tracks: [],\n        artist_info: {},\n        dispatch: action => this.setState(state => reducer(state, action))\n    };\n\n    componentWillMount() {\n      const split = document.location.href.split('/');\n      const username = split[4];\n      this.setState({\n        user: username\n      })\n    }\n    componentDidMount() {\n      this.getTopTracks();\n      this.getTopArtists();\n      this.getTopAlbums();\n      this.getUserInfo();\n      this.getTrackOfTheMonth();\n      this.getRecentlyPlayedTracks();\n    };\n\n    getUserInfo = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.getinfo&user=${this.state.user}&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            userInfo: res.data.user\n          })\n        })\n        .catch(err => {console.log(err)})\n    };\n\n    getTrackOfTheMonth = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&period=1month&user=${this.state.user}&limit=1&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            track_of_the_month: res.data.toptracks.track\n          })\n        })\n        .catch(err => {console.log(err)})\n    };\n\n    getTopTracks = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&period=1month&user=${this.state.user}&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            top_tracks_list: res.data.toptracks.track\n          })\n        })\n        .catch(err => {console.log(err)})\n    };\n\n    getRecentlyPlayedTracks = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&period=1month&user=${this.state.user}&limit=7&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            recently_played_tracks: res.data.recenttracks.track\n          })\n        })\n        .catch(err => {console.log(err)})\n    };\n\n    getTopArtists = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettopartists&period=1month&user=${this.state.user}&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            top_artists_list: res.data.topartists.artist\n          })\n         \n        })\n        .catch(err => {console.log(err)})\n    };\n\n    getTopAlbums = () => {\n      axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&period=1month&user=${this.state.user}&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n        .then(res => {\n          this.setState({\n            top_albums_list: res.data.topalbums.album\n          })\n         \n        })\n        .catch(err => {console.log(err)})\n    };\n\n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    )\n  }\n}\n\n\nexport const Consumer = Context.Consumer;"]},"metadata":{},"sourceType":"module"}