{"ast":null,"code":"import _classCallCheck from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lidiadavidson/Documents/lastfm/src/components/albums/TopAlbumsList.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport AlbumListItem from './AlbumListItem';\nimport axios from 'axios';\n\nvar TopTracksList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TopTracksList, _Component);\n\n  function TopTracksList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TopTracksList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TopTracksList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.changeAlbumsDateRange = function (dispatch, e) {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettopalbums\\n    &period=\".concat(e.target.value, \"&user=colwill91&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        dispatch({\n          type: 'UPDATE_TOP_ALBUMS',\n          payload: res.data.topalbums.album\n        }); //put the new results into the context state, like a reducer in redux\n      }).catch(function (err) {// request failed component\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TopTracksList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, function (value) {\n        var dispatch = value.dispatch;\n        var albumList = value.top_albums_list;\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-row view-switcher\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Top Albums \"), React.createElement(\"select\", {\n          onChange: _this2.changeAlbumsDateRange.bind(_this2, dispatch),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"7day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \" Last 7 Days\"), React.createElement(\"option\", {\n          value: \"1month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"This month\"), React.createElement(\"option\", {\n          value: \"12month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"This year\"))), React.createElement(\"div\", {\n          className: \"grid-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"album-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, albumList.map(function (item) {\n          return React.createElement(AlbumListItem, {\n            key: item.index,\n            album: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          });\n        })))));\n      });\n    }\n  }]);\n\n  return TopTracksList;\n}(Component);\n\nexport default TopTracksList;","map":{"version":3,"sources":["/Users/lidiadavidson/Documents/lastfm/src/components/albums/TopAlbumsList.js"],"names":["React","Component","Consumer","AlbumListItem","axios","TopTracksList","changeAlbumsDateRange","dispatch","e","get","target","value","then","res","type","payload","data","topalbums","album","catch","err","albumList","top_albums_list","bind","map","item","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAGOC,a;;;;;;;;;;;;;;;;;;UAGLC,qB,GAAwB,UAACC,QAAD,EAAWC,CAAX,EAAiB;AACvCJ,MAAAA,KAAK,CAACK,GAAN,mFACUD,CAAC,CAACE,MAAF,CAASC,KADnB,mFAECC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACXN,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAE,mBADC;AAEPC,UAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC,SAAT,CAAmBC;AAFrB,SAAD,CAAR,CADW,CAKX;AAED,OATD,EAUCC,KAVD,CAUO,UAAAC,GAAG,EAAI,CACV;AACH,OAZD;AAaD,K;;;;;;;6BAEQ;AAAA;;AAGP,aAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,UAAAT,KAAK,EAAI;AAAA,YACEJ,QADF,GACeI,KADf,CACEJ,QADF;AAGN,YAAMc,SAAS,GAAGV,KAAK,CAACW,eAAxB;AAEA,eACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIA;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFA,EAGA;AAAQ,UAAA,QAAQ,EAAE,MAAI,CAAChB,qBAAL,CAA2BiB,IAA3B,CAAgC,MAAhC,EAAsChB,QAAtC,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAQ,UAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,EAGE;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CAHA,CADF,EAUE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKc,SAAS,CAACG,GAAV,CAAc,UAAAC,IAAI;AAAA,iBACjB,oBAAC,aAAD;AAAe,YAAA,GAAG,EAAEA,IAAI,CAACC,KAAzB;AAAgC,YAAA,KAAK,EAAED,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADiB;AAAA,SAAlB,CADL,CADA,CAVF,CAJA,CADF;AA2BH,OAjCL,CAFF;AAsCD;;;;EA5D0BxB,S;;AA8D7B,eAAeI,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Consumer } from '../../context'\nimport AlbumListItem from './AlbumListItem';\nimport axios from 'axios';\n\n\n class TopTracksList extends Component {\n\n  // make own component\n  changeAlbumsDateRange = (dispatch, e) => {\n    axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettopalbums\n    &period=${e.target.value}&user=colwill91&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n    .then(res => {\n      dispatch({\n        type: 'UPDATE_TOP_ALBUMS',\n        payload: res.data.topalbums.album\n      });\n      //put the new results into the context state, like a reducer in redux\n\n    })\n    .catch(err => {\n        // request failed component\n    })\n  }\n\n  render() {\n\n   \n    return (\n\n      <Consumer>\n          {value => {\n              const { dispatch } = value;\n            \n              const albumList = value.top_albums_list;\n            \n              return (\n                <React.Fragment>\n                \n               \n              \n                <div className=\"grid-container\">\n                  <div className=\"grid-row view-switcher\">\n\n                  <h2>Top Albums </h2>\n                  <select onChange={this.changeAlbumsDateRange.bind(this, dispatch)}>\n                    <option value=\"7day\"> Last 7 Days</option>\n                    <option value=\"1month\">This month</option>\n                    <option value=\"12month\">This year</option>\n                  </select>\n                  </div>\n                  <div className=\"grid-row\">\n                  <ul className=\"album-list\">\n                      {albumList.map(item => (\n                        <AlbumListItem key={item.index} album={item}/>\n                      ))}\n                    </ul> \n                  </div>\n                   \n                </div>\n                    \n                </React.Fragment>\n              ); \n          }}\n      </Consumer>\n    )\n  }\n}\nexport default TopTracksList;"]},"metadata":{},"sourceType":"module"}