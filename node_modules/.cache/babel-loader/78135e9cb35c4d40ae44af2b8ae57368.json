{"ast":null,"code":"import _defineProperty from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lidiadavidson/Documents/lastfm/src/App.jsx\";\nimport React, { Component } from \"react\";\nimport \"./App.css\"; // set a constructor for the api\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      query: \"\",\n      artist: null,\n      profilepic: null,\n      listeners: null,\n      playcount: null,\n      description: null,\n      tracks: [],\n      playingUrl: null,\n      audio: null,\n      playing: false\n    };\n    return _this;\n  } // search function with the api: artist name. profile picture,\n\n\n  _createClass(App, [{\n    key: \"fetch\",\n    value: function (_fetch) {\n      function fetch() {\n        return _fetch.apply(this, arguments);\n      }\n\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n\n      return fetch;\n    }(function () {\n      var _this2 = this;\n\n      console.log(this.state.query);\n      var baseURL = \"https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\".concat(this.state.query, \"&api_key=b686750a281378159473653159e27252&format=json\");\n      console.log(baseURL);\n      fetch(baseURL, {\n        method: \"GET\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n        var artist = json.artist[\"name\"];\n\n        _this2.setState({\n          artist: artist\n        });\n\n        var profilepic = json.artist.image[2][\"#text\"];\n\n        _this2.setState({\n          profilepic: profilepic\n        });\n\n        console.log(\"profilepic:\", profilepic);\n        var albumURL = \"https://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&artist=\".concat(artist, \"&api_key=b686750a281378159473653159e27252&format=json\");\n        console.log(albumURL);\n        fetch(albumURL, {\n          method: \"GET\"\n        }).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          console.log(json);\n          var tracks = json.toptracks[\"track\"];\n\n          _this2.setState({\n            tracks: tracks\n          });\n\n          console.log(_this2.state.tracks);\n        });\n      });\n    })\n  }, {\n    key: \"playAudio\",\n    value: function playAudio(previewUrl) {\n      var audio = new Audio(previewUrl);\n\n      if (!this.state.playing) {\n        audio.play();\n        this.setState({\n          playing: true,\n          playingUrl: previewUrl,\n          audio: audio\n        });\n      } else {\n        if (this.state.playingUrl === previewUrl) {\n          this.state.audio.pause();\n          this.setState({\n            playing: false\n          });\n        } else {\n          this.state.audio.pause();\n          audio.play();\n          this.setState({\n            playing: true,\n            playingUrl: previewUrl,\n            audio: audio\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this,\n          _React$createElement;\n\n      return React.createElement(\"div\", {\n        className: \"text-fluid col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-md-offset-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group has-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", (_React$createElement = {\n        type: \"text\",\n        className: \"form-control\"\n      }, _defineProperty(_React$createElement, \"className\", \"form-control text-center\"), _defineProperty(_React$createElement, \"placeholder\", \"Enter Any Artist to search\"), _defineProperty(_React$createElement, \"required\", true), _defineProperty(_React$createElement, \"onChange\", function onChange(event) {\n        return _this3.setState({\n          query: event.target.value\n        });\n      }), _defineProperty(_React$createElement, \"onKeyPress\", function onKeyPress(event) {\n        if (event.key === \"Enter\") _this3.fetch();\n      }), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))))), React.createElement(\"div\", {\n        className: \"text-center Profile row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 lead Artistpic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-responsive\",\n        src: this.state.profilepic,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-8 Artistname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.artist)))), React.createElement(\"div\", {\n        className: \"row Gallery col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.tracks.map(function (track, index) {\n        return React.createElement(\"li\", {\n          className: \"well\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, \" \", React.createElement(\"img\", {\n          className: \"img-responsive imagealbum\",\n          src: track.image[0][\"#text\"],\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: track.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, track.name, \" \"));\n      }))), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/lidiadavidson/Documents/lastfm/src/App.jsx"],"names":["React","Component","App","props","state","query","artist","profilepic","listeners","playcount","description","tracks","playingUrl","audio","playing","console","log","baseURL","fetch","method","then","res","json","setState","image","albumURL","toptracks","previewUrl","Audio","play","pause","event","target","value","key","map","track","index","url","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\n\n// set a constructor for the api\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\",\n      artist: null,\n      profilepic: null,\n      listeners: null,\n      playcount: null,\n      description: null,\n      tracks: [],\n      playingUrl: null,\n      audio: null,\n      playing: false\n    };\n  }\n\n  // search function with the api: artist name. profile picture,\n\n  fetch() {\n    console.log(this.state.query);\n    var baseURL = `https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=${\n      this.state.query\n    }&api_key=b686750a281378159473653159e27252&format=json`;\n\n    console.log(baseURL);\n    fetch(baseURL, {\n      method: \"GET\"\n    })\n      .then(res => res.json())\n      .then(json => {\n        console.log(json);\n\n        const artist = json.artist[\"name\"];\n        this.setState({ artist });\n        const profilepic = json.artist.image[2][\"#text\"];\n        this.setState({ profilepic });\n        console.log(\"profilepic:\", profilepic);\n\n        var albumURL = `https://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&artist=${artist}&api_key=b686750a281378159473653159e27252&format=json`;\n        console.log(albumURL);\n        fetch(albumURL, {\n          method: \"GET\"\n        })\n          .then(res => res.json())\n          .then(json => {\n            console.log(json);\n            const tracks = json.toptracks[\"track\"];\n            this.setState({ tracks });\n            console.log(this.state.tracks);\n          });\n      });\n  }\n  playAudio(previewUrl) {\n    let audio = new Audio(previewUrl);\n    if (!this.state.playing) {\n      audio.play();\n      this.setState({\n        playing: true,\n        playingUrl: previewUrl,\n        audio\n      });\n    } else {\n      if (this.state.playingUrl === previewUrl) {\n        this.state.audio.pause();\n        this.setState({\n          playing: false\n        });\n      } else {\n        this.state.audio.pause();\n        audio.play();\n        this.setState({\n          playing: true,\n          playingUrl: previewUrl,\n          audio\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className=\"text-fluid col-md-12\">\n        <div className=\"row\">\n          <div className=\"col-md-12 col-md-offset-1\">\n            <div className=\"form-group has-feedback\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                className=\"form-control text-center\"\n                placeholder=\"Enter Any Artist to search\"\n                required\n                onChange={event => this.setState({ query: event.target.value })}\n                onKeyPress={event => {\n                  if (event.key === \"Enter\") this.fetch();\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"text-center Profile row\">\n          <div className=\"col-md-3 \" />\n          <div className=\"col-md-8 \">\n            <div className=\"col-md-2 lead Artistpic\">\n              <img\n                className=\"img-responsive\"\n                src={this.state.profilepic}\n                alt=\"\"\n              />\n            </div>\n            <div className=\"col-md-8 Artistname\">\n              <h3 className=\"lead\">{this.state.artist}</h3>\n              {/* <span className=\"label label-info\">{this.state.listeners}</span> */}\n              {/* <span className=\"label label-primary\">\n                {this.state.playcount}\n              </span> */}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row Gallery col-md-12\">\n          <div className=\"col-md-4\" />\n          <div className=\"col-md-4\">\n            <ul>\n              {this.state.tracks.map(function(track, index) {\n                return (\n                  <li className=\"well\" key={index}>\n                    {\" \"}\n                    <img\n                      className=\"img-responsive imagealbum\"\n                      src={track.image[0][\"#text\"]}\n                      alt=\"\"\n                    />\n                    <a href={track.url}>{track.name} </a>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n          <div className=\"col-md-2\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}