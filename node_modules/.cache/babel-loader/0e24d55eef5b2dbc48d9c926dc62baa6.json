{"ast":null,"code":"import _classCallCheck from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lidiadavidson/Documents/lastfm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lidiadavidson/Documents/lastfm/src/components/artists/TopArtistsList.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport ArtistListItem from './ArtistListItem';\nimport axios from 'axios';\n\nvar TopArtistsList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TopArtistsList, _Component);\n\n  function TopArtistsList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TopArtistsList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TopArtistsList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.changeArtistsDateRange = function (dispatch, e) {\n      axios.get(\"http://ws.audioscrobbler.com/2.0/?method=user.gettopartists&period=\".concat(e.target.value, \"&user=colwill91&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json\")).then(function (res) {\n        console.log('gg', res.data.topartists.artist);\n        dispatch({\n          type: 'UPDATE_TOP_ARTISTS',\n          payload: res.data.topartists.artist\n        }); //put the new results into the context state, like a reducer in redux\n      }).catch(function (err) {// request failed component\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TopArtistsList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, function (value) {\n        var dispatch = value.dispatch;\n        var artistList = value.top_artists_list;\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-row view-switcher\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Top Artists \"), React.createElement(\"select\", {\n          onChange: _this2.changeArtistsDateRange.bind(_this2, dispatch),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"7day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \" Last 7 Days\"), React.createElement(\"option\", {\n          value: \"1month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \"This month\"), React.createElement(\"option\", {\n          value: \"12month\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"This year\"))), React.createElement(\"div\", {\n          className: \"grid-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"album-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, artistList.map(function (item) {\n          return React.createElement(ArtistListItem, {\n            key: item.index,\n            artist: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          });\n        })))));\n      });\n    }\n  }]);\n\n  return TopArtistsList;\n}(Component);\n\nexport default TopArtistsList;","map":{"version":3,"sources":["/Users/lidiadavidson/Documents/lastfm/src/components/artists/TopArtistsList.js"],"names":["React","Component","Consumer","ArtistListItem","axios","TopArtistsList","changeArtistsDateRange","dispatch","e","get","target","value","then","res","console","log","data","topartists","artist","type","payload","catch","err","artistList","top_artists_list","bind","map","item","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAGOC,c;;;;;;;;;;;;;;;;;;UAGLC,sB,GAAyB,UAACC,QAAD,EAAWC,CAAX,EAAiB;AAExCJ,MAAAA,KAAK,CAACK,GAAN,8EAAgFD,CAAC,CAACE,MAAF,CAASC,KAAzF,mFACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBF,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoBC,MAAtC;AACAX,QAAAA,QAAQ,CAAC;AACPY,UAAAA,IAAI,EAAE,oBADC;AAEPC,UAAAA,OAAO,EAAEP,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoBC;AAFtB,SAAD,CAAR,CAFW,CAMX;AAED,OATD,EAUCG,KAVD,CAUO,UAAAC,GAAG,EAAI,CACV;AACH,OAZD;AAaD,K;;;;;;;6BAEQ;AAAA;;AAGP,aAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,UAAAX,KAAK,EAAI;AAAA,YACEJ,QADF,GACeI,KADf,CACEJ,QADF;AAGN,YAAMgB,UAAU,GAAGZ,KAAK,CAACa,gBAAzB;AAEA,eACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFA,EAGA;AAAQ,UAAA,QAAQ,EAAE,MAAI,CAAClB,sBAAL,CAA4BmB,IAA5B,CAAiC,MAAjC,EAAuClB,QAAvC,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAQ,UAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,EAGE;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CAHA,CADA,EAUA;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACCgB,UAAU,CAACG,GAAX,CAAe,UAAAC,IAAI;AAAA,iBACZ,oBAAC,cAAD;AAAgB,YAAA,GAAG,EAAEA,IAAI,CAACC,KAA1B;AAAiC,YAAA,MAAM,EAAED,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADY;AAAA,SAAnB,CADD,CADA,CAVA,CADA,CADF;AA2BH,OAjCL,CAFF;AAsCD;;;;EA7D2B1B,S;;AA+D9B,eAAeI,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Consumer } from '../../context'\nimport ArtistListItem from './ArtistListItem';\nimport axios from 'axios';\n\n\n class TopArtistsList extends Component {\n\n  // make own component\n  changeArtistsDateRange = (dispatch, e) => {\n   \n    axios.get(`http://ws.audioscrobbler.com/2.0/?method=user.gettopartists&period=${e.target.value}&user=colwill91&limit=8&api_key=56e994f5d0222486f464e9662e9eb941&format=json`)\n    .then(res => {\n      console.log('gg', res.data.topartists.artist)\n      dispatch({\n        type: 'UPDATE_TOP_ARTISTS',\n        payload: res.data.topartists.artist\n      });\n      //put the new results into the context state, like a reducer in redux\n\n    })\n    .catch(err => {\n        // request failed component\n    })\n  }\n\n  render() {\n\n  \n    return (\n\n      <Consumer>\n          {value => {\n              const { dispatch } = value;\n            \n              const artistList = value.top_artists_list;\n\n              return (\n                <React.Fragment>\n                <div className=\"grid-container\">\n                <div className=\"grid-row view-switcher\">\n\n                <h2>Top Artists </h2>\n                <select onChange={this.changeArtistsDateRange.bind(this, dispatch)}>\n                  <option value=\"7day\"> Last 7 Days</option>\n                  <option value=\"1month\">This month</option>\n                  <option value=\"12month\">This year</option>\n                </select>\n                </div>\n                <div className=\"grid-row\">\n                <ul className=\"album-list\">\n                {artistList.map(item => (\n                        <ArtistListItem key={item.index} artist={item}/>\n                  ))}\n                  </ul> \n                </div>\n                \n                </div>\n               \n                       \n                </React.Fragment>\n\n              \n              ); \n          }}\n      </Consumer>\n    )\n  }\n}\nexport default TopArtistsList;"]},"metadata":{},"sourceType":"module"}